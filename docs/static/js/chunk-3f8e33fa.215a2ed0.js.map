{"version":3,"sources":["webpack:///./example/pages/business/comment.vue?759d","webpack:///./example/pages/business/comment.vue?b920","webpack:///example/pages/business/comment.vue","webpack:///./example/pages/business/comment.vue?4d87","webpack:///./example/pages/business/comment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","handleTitleClick","scopedSlots","_u","key","fn","_l","item","data","user","avatar","nickname","likeCount","message","imageUrl","createTime","parentReply","liked","showReplyOthersBox","likeEvent","showMoreOperation","handleAvatarClick","proxy","handleBarClick","_e","model","value","callback","$$v","moreOperation","expression","showComplain","_v","showReasons","index","$event","complain","_s","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-3f8e33fa.215a2ed0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=549e7f27&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=549e7f27&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('vs-comment',{attrs:{\"title\":'热门评论',\"icon-show\":true},on:{\"handleTitleClick\":_vm.handleTitleClick},scopedSlots:_vm._u([{key:\"comment-card\",fn:function(){return _vm._l((_vm.comments),function(item,key){return _c('vs-comment-card',{key:key,attrs:{\"index\":key,\"detail\":item,\"avatar\":item.data.user.avatar,\"nickname\":item.data.user.nickname,\"like-count\":item.data.likeCount,\"message\":item.data.message,\"image-url\":item.data.imageUrl,\"create-time\":item.data.createTime,\"parent-reply\":item.data.parentReply,\"like\":item.data.liked},on:{\"reply\":_vm.showReplyOthersBox,\"like\":_vm.likeEvent,\"operation\":_vm.showMoreOperation,\"avatar\":_vm.handleAvatarClick}})})},proxy:true}])}),(_vm.isShowBar)?_c('vs-reply-bar',{on:{\"click\":_vm.handleBarClick}}):_vm._e(),_c('vs-popup',{staticClass:\"more-operation\",attrs:{\"position\":\"bottom\",\"overlay\":true,\"showCancel\":true,\"title\":\"更多操作\"},model:{value:(_vm.moreOperation),callback:function ($$v) {_vm.moreOperation=$$v},expression:\"moreOperation\"}},[_c('div',{staticClass:\"pop-item\",on:{\"click\":_vm.showComplain}},[_vm._v(\" 举报该条评论 \")])]),_c('vs-popup',{staticClass:\"reasons\",attrs:{\"position\":\"bottom\",\"overlay\":true,\"showCancel\":true,\"title\":\"显示举报原因\"},model:{value:(_vm.showReasons),callback:function ($$v) {_vm.showReasons=$$v},expression:\"showReasons\"}},_vm._l((_vm.COMPLAIN_REASONS),function(item,index){return _c('div',{staticClass:\"pop-item\",on:{\"click\":function($event){return _vm.complain(index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <vs-comment :title=\"'热门评论'\" :icon-show=\"true\" @handleTitleClick=\"handleTitleClick\">\n      <template v-slot:comment-card>\n        <vs-comment-card\n          :key=\"key\"\n          v-for=\"(item, key) in comments\"\n          :index=\"key\"\n          :detail=\"item\"\n          :avatar=\"item.data.user.avatar\"\n          :nickname=\"item.data.user.nickname\"\n          :like-count=\"item.data.likeCount\"\n          :message=\"item.data.message\"\n          :image-url=\"item.data.imageUrl\"\n          :create-time=\"item.data.createTime\"\n          :parent-reply=\"item.data.parentReply\"\n          :like=\"item.data.liked\"\n          @reply=\"showReplyOthersBox\"\n          @like=\"likeEvent\"\n          @operation=\"showMoreOperation\"\n          @avatar=\"handleAvatarClick\"\n        />\n      </template>\n    </vs-comment>\n    <vs-reply-bar @click=\"handleBarClick\" v-if=\"isShowBar\" />\n    <vs-popup  class=\"more-operation\" v-model=\"moreOperation\" position=\"bottom\" :overlay=\"true\" :showCancel=\"true\" title=\"更多操作\">\n      <div class=\"pop-item\" @click=\"showComplain\">\n        举报该条评论\n      </div>\n    </vs-popup>\n    <vs-popup  class=\"reasons\" v-model=\"showReasons\" position=\"bottom\" :overlay=\"true\" :showCancel=\"true\" title=\"显示举报原因\">\n      <div class=\"pop-item\" v-for=\"(item,index) in COMPLAIN_REASONS\" @click=\"complain(index)\">\n        {{item}}\n      </div>\n    </vs-popup>\n  </div>\n</template>\n<script>\n  import {ref, onBeforeUnmount} from '@vue/composition-api'\n  import {comments} from \"../../utils/mock\";\n  import {Comment, CommentCard, Popup, ReplyBar, ReplyBox} from '../../../lib'\n\n  const COMPLAIN_REASONS = ['反动、色情、政治敏感内容','不友善、不文明语言','广告、刷屏等垃圾信息','与主题无关的恶意言论']\n  export default {\n    components: {\n      'vs-comment': Comment,\n      'vs-comment-card': CommentCard,\n      'vs-reply-bar': ReplyBar,\n      'vs-popup':Popup\n    },\n    setup(props, context) {\n      const isShowBar = ref(true)\n      const moreOperation = ref(false)\n      const showReasons = ref(false)\n      const operationId = ref('')\n      // 自己的回复框，一直保留\n      const myReply = ReplyBox({\n        methods:{\n          onClose: function() {\n            isShowBar.value = true;\n          },\n          onConfirm:function (data){\n            isShowBar.value = true;\n            console.log('confirm',data)\n            this.close();\n          },\n        },\n      })\n      // 回复别人的回复框，不保留\n      const showReplyOthersBox = ({message,nickname}) => {\n        console.log(message,nickname)\n        const r = ReplyBox({\n          title:nickname,\n          subtitle: message,\n          methods:{\n            onClose: function() {\n              isShowBar.value = true;\n              this.unmount();\n            },\n            onConfirm:function (data) {\n              console.log('confirm',data)\n              isShowBar.value = true;\n              this.unmount();\n            },\n          },\n        })\n        r.open();\n        isShowBar.value = false;\n      }\n      const handleBarClick = () => {\n        showMyReplyBox();\n      }\n      const showMyReplyBox =() =>{\n        isShowBar.value = false;\n        myReply.open();\n      }\n      onBeforeUnmount(() => {\n        /**卸载所有回复窗口**/\n        ReplyBox.unmountAll();\n      })\n      const likeEvent = (item) => {\n        console.log('like')\n      }\n      const showMoreOperation = (item)=>{\n        moreOperation.value = true;\n        // operationId.value = item.data.id;\n      }\n      const complain = (index)=>{\n        console.log(operationId,index)\n      }\n      const showComplain = ()=>{\n        moreOperation.value = false;\n        showReasons.value = true;\n      }\n      const handleTitleClick = () => {\n        alert('去热评区')\n      }\n      const handleAvatarClick = (item) => {\n      }\n      return {\n        isShowBar,\n        comments,\n        showReplyOthersBox,\n        showMyReplyBox,\n        likeEvent,\n        showMoreOperation,\n        moreOperation,\n        showReasons,\n        complain,\n        COMPLAIN_REASONS,\n        showComplain,\n        handleBarClick,\n        handleTitleClick,\n        handleAvatarClick\n      }\n    }\n  }\n</script>\n<style  lang=\"scss\" scoped>\n  .pop-item {\n    padding: 22px 0 21px;\n    border-bottom: solid 0.5px #eeeeee;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=549e7f27&scoped=true&\"\nimport script from \"./comment.vue?vue&type=script&lang=js&\"\nexport * from \"./comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&id=549e7f27&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"549e7f27\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}