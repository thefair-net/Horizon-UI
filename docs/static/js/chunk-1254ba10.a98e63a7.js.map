{"version":3,"sources":["webpack:///./example/pages/business/note.vue?afd7","webpack:///./example/pages/business/note.vue?75de","webpack:///example/pages/business/note.vue","webpack:///./example/pages/business/note.vue?da2c","webpack:///./example/pages/business/note.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","handleTitleClick","scopedSlots","_u","key","fn","_l","item","feed_content","user","avatar","nick","count_summary","favorite","count","content","image_list","url","url_thumbnail","feed_time","txt","be_favorite","comment_info","item_list","comment","showReplyOthersBox","likeEvent","showMoreOperation","handleAvatarClick","viewAllReplies","proxy","handleBarClick","_e","model","value","callback","$$v","moreOperation","expression","showComplain","_v","showReasons","index","$event","complain","_s","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-1254ba10.a98e63a7.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&id=cffd508a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=style&index=0&id=cffd508a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('vs-note',{attrs:{\"title\":'热门评论',\"icon-show\":true},on:{\"handleTitleClick\":_vm.handleTitleClick},scopedSlots:_vm._u([{key:\"note-card\",fn:function(){return _vm._l((_vm.notes),function(item,key){return _c('vs-note-card',{key:key,attrs:{\"index\":key,\"detail\":item,\"avatar\":item.feed_content.user.avatar,\"nickname\":item.feed_content.user.nick,\"like-count\":item.feed_content.count_summary.favorite.count,\"message\":item.feed_content.content,\"image-url\":item.feed_content.image_list[0] && item.feed_content.image_list[0].url,\"image-url-thumb\":item.feed_content.image_list[0] && item.feed_content.image_list[0].url_thumbnail,\"create-time\":item.feed_time.txt,\"like\":item.feed_content.be_favorite ? 'liked' : 'unliked',\"first-two-comments\":item.feed_content.comment_info.item_list,\"comments-count\":item.feed_content.count_summary.comment.count},on:{\"reply\":_vm.showReplyOthersBox,\"like\":_vm.likeEvent,\"operation\":_vm.showMoreOperation,\"avatar\":_vm.handleAvatarClick,\"view-all-replies\":_vm.viewAllReplies}})})},proxy:true}])}),(_vm.isShowBar)?_c('vs-reply-bar',{on:{\"click\":_vm.handleBarClick}}):_vm._e(),_c('vs-popup',{staticClass:\"more-operation\",attrs:{\"position\":\"bottom\",\"overlay\":true,\"showCancel\":true,\"title\":\"更多操作\"},model:{value:(_vm.moreOperation),callback:function ($$v) {_vm.moreOperation=$$v},expression:\"moreOperation\"}},[_c('div',{staticClass:\"pop-item\",on:{\"click\":_vm.showComplain}},[_vm._v(\" 举报该条评论 \")])]),_c('vs-popup',{staticClass:\"reasons\",attrs:{\"position\":\"bottom\",\"overlay\":true,\"showCancel\":true,\"title\":\"显示举报原因\"},model:{value:(_vm.showReasons),callback:function ($$v) {_vm.showReasons=$$v},expression:\"showReasons\"}},_vm._l((_vm.COMPLAIN_REASONS),function(item,index){return _c('div',{staticClass:\"pop-item\",on:{\"click\":function($event){return _vm.complain(index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <vs-note :title=\"'热门评论'\" :icon-show=\"true\" @handleTitleClick=\"handleTitleClick\">\n      <template v-slot:note-card>\n        <vs-note-card\n          :key=\"key\"\n          v-for=\"(item, key) in notes\"\n          :index=\"key\"\n          :detail=\"item\"\n          :avatar=\"item.feed_content.user.avatar\"\n          :nickname=\"item.feed_content.user.nick\"\n          :like-count=\"item.feed_content.count_summary.favorite.count\"\n          :message=\"item.feed_content.content\"\n          :image-url=\"item.feed_content.image_list[0] && item.feed_content.image_list[0].url\"\n          :image-url-thumb=\"item.feed_content.image_list[0] && item.feed_content.image_list[0].url_thumbnail\"\n          :create-time=\"item.feed_time.txt\"\n          :like=\"item.feed_content.be_favorite ? 'liked' : 'unliked'\"\n          :first-two-comments=\"item.feed_content.comment_info.item_list\"\n          :comments-count=\"item.feed_content.count_summary.comment.count\"\n          @reply=\"showReplyOthersBox\"\n          @like=\"likeEvent\"\n          @operation=\"showMoreOperation\"\n          @avatar=\"handleAvatarClick\"\n          @view-all-replies=\"viewAllReplies\"\n        />\n      </template>\n    </vs-note>\n    <vs-reply-bar @click=\"handleBarClick\" v-if=\"isShowBar\" />\n    <vs-popup  class=\"more-operation\" v-model=\"moreOperation\" position=\"bottom\" :overlay=\"true\" :showCancel=\"true\" title=\"更多操作\">\n      <div class=\"pop-item\" @click=\"showComplain\">\n        举报该条评论\n      </div>\n    </vs-popup>\n    <vs-popup  class=\"reasons\" v-model=\"showReasons\" position=\"bottom\" :overlay=\"true\" :showCancel=\"true\" title=\"显示举报原因\">\n      <div class=\"pop-item\" v-for=\"(item,index) in COMPLAIN_REASONS\" @click=\"complain(index)\">\n        {{item}}\n      </div>\n    </vs-popup>\n  </div>\n</template>\n<script>\n  import {ref, onBeforeUnmount} from '@vue/composition-api'\n  import {notes} from \"../../utils/mock\";\n  import {Note, NoteCard, Popup, ReplyBar, ReplyBox} from '../../../lib'\n\n  const COMPLAIN_REASONS = ['反动、色情、政治敏感内容','不友善、不文明语言','广告、刷屏等垃圾信息','与主题无关的恶意言论']\n  export default {\n    components: {\n      'vs-note': Note,\n      'vs-note-card': NoteCard,\n      'vs-reply-bar': ReplyBar,\n      'vs-popup':Popup\n    },\n    setup(props, context) {\n      console.log(notes)\n      const isShowBar = ref(true)\n      const moreOperation = ref(false)\n      const showReasons = ref(false)\n      const operationId = ref('')\n      // 自己的回复框，一直保留\n      const myReply = ReplyBox({\n        methods:{\n          onClose: function() {\n            isShowBar.value = true;\n          },\n          onConfirm:function (data){\n            isShowBar.value = true;\n            console.log('confirm',data)\n            this.close();\n          },\n        },\n      })\n      // 回复别人的回复框，不保留\n      const showReplyOthersBox = ({message,nickname}) => {\n        console.log(message,nickname)\n        const r = ReplyBox({\n          title:nickname,\n          subtitle: message,\n          methods:{\n            onClose: function() {\n              isShowBar.value = true;\n              this.unmount();\n            },\n            onConfirm:function (data) {\n              console.log('confirm',data)\n              isShowBar.value = true;\n              this.unmount();\n            },\n          },\n        })\n        r.open();\n        isShowBar.value = false;\n      }\n      const handleBarClick = () => {\n        showMyReplyBox();\n      }\n      const showMyReplyBox =() =>{\n        isShowBar.value = false;\n        myReply.open();\n      }\n      onBeforeUnmount(() => {\n        /**卸载所有回复窗口**/\n        ReplyBox.unmountAll();\n      })\n      const likeEvent = (item) => {\n        console.log('like')\n      }\n      const showMoreOperation = (item)=>{\n        moreOperation.value = true;\n        // operationId.value = item.data.id;\n      }\n      const complain = (index)=>{\n        console.log(operationId,index)\n      }\n      const showComplain = ()=>{\n        moreOperation.value = false;\n        showReasons.value = true;\n      }\n      const handleTitleClick = () => {\n        alert('去热评区')\n      }\n      const handleAvatarClick = (item) => {\n      }\n      const viewAllReplies = (item) => {\n        console.log(item)\n      }\n      return {\n        isShowBar,\n        notes,\n        showReplyOthersBox,\n        showMyReplyBox,\n        likeEvent,\n        showMoreOperation,\n        moreOperation,\n        showReasons,\n        complain,\n        COMPLAIN_REASONS,\n        showComplain,\n        handleBarClick,\n        handleTitleClick,\n        handleAvatarClick,\n        viewAllReplies\n      }\n    }\n  }\n</script>\n<style  lang=\"scss\" scoped>\n  .pop-item {\n    padding: 0.22rem 0 0.21rem;\n    border-bottom: solid 0.01rem #eeeeee;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./note.vue?vue&type=template&id=cffd508a&scoped=true&\"\nimport script from \"./note.vue?vue&type=script&lang=js&\"\nexport * from \"./note.vue?vue&type=script&lang=js&\"\nimport style0 from \"./note.vue?vue&type=style&index=0&id=cffd508a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cffd508a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}