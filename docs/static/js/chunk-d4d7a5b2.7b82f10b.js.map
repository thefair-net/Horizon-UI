{"version":3,"sources":["webpack:///./example/pages/business/feed-dark-mode.vue?d87d","webpack:///example/pages/business/feed-dark-mode.vue","webpack:///./example/pages/business/feed-dark-mode.vue?19b2","webpack:///./example/pages/business/feed-dark-mode.vue","webpack:///./example/pages/business/feed-dark-mode.vue?3da6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","handleTitleClick","scopedSlots","_u","key","fn","_l","item","feed_content","user","avatar","nick","count_summary","favorite","count","content","image_list","url","url_thumbnail","feed_time","txt","be_favorite","comment_info","item_list","comment","at_user","showReplyBox","likeEvent","showMoreOperation","handleAvatarClick","viewAllReplies","proxy","handleBarClick","_e","model","value","callback","$$v","moreOperation","expression","showComplain","_v","showReasons","index","$event","complain","_s","staticRenderFns","components","setup","title","nickname","subtitle","message","methods","onClose","isShowBar","unmount","onConfirm","console","log","data","r","open","operationId","feeds","COMPLAIN_REASONS","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,OAAO,aAAY,EAAK,aAAY,GAAMC,GAAG,CAAC,iBAAmBR,EAAIS,kBAAkBC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,WAAW,OAAOb,EAAIc,GAAId,EAAS,OAAE,SAASe,EAAKH,GAAK,OAAOR,EAAG,eAAe,CAACQ,IAAIA,EAAIL,MAAM,CAAC,MAAQK,EAAI,OAASG,EAAK,OAASA,EAAKC,aAAaC,KAAKC,OAAO,SAAWH,EAAKC,aAAaC,KAAKE,KAAK,aAAaJ,EAAKC,aAAaI,cAAcC,SAASC,MAAM,QAAUP,EAAKC,aAAaO,QAAQ,YAAYR,EAAKC,aAAaQ,WAAW,IAAMT,EAAKC,aAAaQ,WAAW,GAAGC,IAAI,kBAAkBV,EAAKC,aAAaQ,WAAW,IAAMT,EAAKC,aAAaQ,WAAW,GAAGE,cAAc,cAAcX,EAAKY,UAAUC,IAAI,KAAOb,EAAKC,aAAaa,YAAc,QAAU,UAAU,qBAAqBd,EAAKC,aAAac,aAAaC,UAAU,iBAAiBhB,EAAKC,aAAaI,cAAcY,QAAQV,MAAM,WAAWP,EAAKC,aAAaiB,SAASzB,GAAG,CAAC,MAAQR,EAAIkC,aAAa,KAAOlC,EAAImC,UAAU,UAAYnC,EAAIoC,kBAAkB,OAASpC,EAAIqC,kBAAkB,mBAAmBrC,EAAIsC,sBAAqBC,OAAM,OAAWvC,EAAa,UAAEI,EAAG,eAAe,CAACI,GAAG,CAAC,MAAQR,EAAIwC,kBAAkBxC,EAAIyC,KAAKrC,EAAG,WAAW,CAACE,YAAY,iBAAiBC,MAAM,CAAC,SAAW,SAAS,SAAU,EAAK,YAAa,EAAK,MAAQ,QAAQmC,MAAM,CAACC,MAAO3C,EAAiB,cAAE4C,SAAS,SAAUC,GAAM7C,EAAI8C,cAAcD,GAAKE,WAAW,kBAAkB,CAAC3C,EAAG,MAAM,CAACE,YAAY,WAAWE,GAAG,CAAC,MAAQR,EAAIgD,eAAe,CAAChD,EAAIiD,GAAG,gBAAgB7C,EAAG,WAAW,CAACE,YAAY,UAAUC,MAAM,CAAC,SAAW,SAAS,SAAU,EAAK,YAAa,EAAK,MAAQ,UAAUmC,MAAM,CAACC,MAAO3C,EAAe,YAAE4C,SAAS,SAAUC,GAAM7C,EAAIkD,YAAYL,GAAKE,WAAW,gBAAgB/C,EAAIc,GAAId,EAAoB,kBAAE,SAASe,EAAKoC,GAAO,OAAO/C,EAAG,MAAM,CAACE,YAAY,WAAWE,GAAG,CAAC,MAAQ,SAAS4C,GAAQ,OAAOpD,EAAIqD,SAASF,MAAU,CAACnD,EAAIiD,GAAG,IAAIjD,EAAIsD,GAAGvC,GAAM,UAAS,IAAI,IACx8DwC,EAAkB,G,oCC8CtB,yDACA,GACEC,WAAY,CACV,UAAW,EAAf,KACI,eAAgB,EAApB,KACI,eAAgB,EAApB,KACI,WAAY,EAAhB,MAEEC,MAPF,SAOA,KACI,IAAJ,qBACA,qBACA,qBACA,qBAEA,+EACA,kBACQC,MAAOC,EACPC,SAAUC,EACVC,QAAS,CACPC,QAAS,WACPC,EAAUrB,OAAQ,EAClB1C,KAAKgE,WAEPC,UAAW,SAArB,GACYC,QAAQC,IAAI,UAAWC,GACvBL,EAAUrB,OAAQ,EAClB1C,KAAKgE,cAIXK,EAAEC,OACFP,EAAUrB,OAAQ,GAExB,aACMT,EAAa,CAAnB,0BAEI,OAAJ,OAAI,EAAJ,WAEM,EAAN,qBAEI,IAAJ,cACMiC,QAAQC,IAAI,SAElB,cACMtB,EAAcH,OAAQ,GAG5B,cACMwB,QAAQC,IAAII,EAAarB,IAE/B,aACML,EAAcH,OAAQ,EACtBO,EAAYP,OAAQ,GAE1B,aACM,OAAN,OAAM,CAAN,mBAEA,gBAEA,cACMwB,QAAQC,IAAIrD,IAEd,MAAO,CACLiD,UAAN,EACMS,MAAN,OACMvC,aAAN,EACMC,UAAN,EACMC,kBAAN,EACMU,cAAN,EACMI,YAAN,EACMG,SAAN,EACMqB,iBAAN,EACM1B,aAAN,EACMR,eAAN,EACM/B,iBAAN,EACM4B,kBAAN,EACMC,eAAN,KC3HuW,I,wBCQnWqC,EAAY,eACd,EACA5E,EACAwD,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E,6CCnBf,yBAAgkB,EAAG,G","file":"static/js/chunk-d4d7a5b2.7b82f10b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('vs-feed',{attrs:{\"title\":'热门评论',\"icon-show\":true,\"dark-mode\":true},on:{\"handleTitleClick\":_vm.handleTitleClick},scopedSlots:_vm._u([{key:\"feed-card\",fn:function(){return _vm._l((_vm.feeds),function(item,key){return _c('vs-feed-card',{key:key,attrs:{\"index\":key,\"detail\":item,\"avatar\":item.feed_content.user.avatar,\"nickname\":item.feed_content.user.nick,\"like-count\":item.feed_content.count_summary.favorite.count,\"message\":item.feed_content.content,\"image-url\":item.feed_content.image_list[0] && item.feed_content.image_list[0].url,\"image-url-thumb\":item.feed_content.image_list[0] && item.feed_content.image_list[0].url_thumbnail,\"create-time\":item.feed_time.txt,\"like\":item.feed_content.be_favorite ? 'liked' : 'unliked',\"first-two-comments\":item.feed_content.comment_info.item_list,\"comments-count\":item.feed_content.count_summary.comment.count,\"reply-to\":item.feed_content.at_user},on:{\"reply\":_vm.showReplyBox,\"like\":_vm.likeEvent,\"operation\":_vm.showMoreOperation,\"avatar\":_vm.handleAvatarClick,\"view-all-replies\":_vm.viewAllReplies}})})},proxy:true}])}),(_vm.isShowBar)?_c('vs-reply-bar',{on:{\"click\":_vm.handleBarClick}}):_vm._e(),_c('vs-popup',{staticClass:\"more-operation\",attrs:{\"position\":\"bottom\",\"overlay\":true,\"showCancel\":true,\"title\":\"更多操作\"},model:{value:(_vm.moreOperation),callback:function ($$v) {_vm.moreOperation=$$v},expression:\"moreOperation\"}},[_c('div',{staticClass:\"pop-item\",on:{\"click\":_vm.showComplain}},[_vm._v(\" 举报该条评论 \")])]),_c('vs-popup',{staticClass:\"reasons\",attrs:{\"position\":\"bottom\",\"overlay\":true,\"showCancel\":true,\"title\":\"显示举报原因\"},model:{value:(_vm.showReasons),callback:function ($$v) {_vm.showReasons=$$v},expression:\"showReasons\"}},_vm._l((_vm.COMPLAIN_REASONS),function(item,index){return _c('div',{staticClass:\"pop-item\",on:{\"click\":function($event){return _vm.complain(index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <vs-feed :title=\"'热门评论'\" :icon-show=\"true\" @handleTitleClick=\"handleTitleClick\" :dark-mode=\"true\">\n      <template v-slot:feed-card>\n        <vs-feed-card\n          :key=\"key\"\n          v-for=\"(item, key) in feeds\"\n          :index=\"key\"\n          :detail=\"item\"\n          :avatar=\"item.feed_content.user.avatar\"\n          :nickname=\"item.feed_content.user.nick\"\n          :like-count=\"item.feed_content.count_summary.favorite.count\"\n          :message=\"item.feed_content.content\"\n          :image-url=\"item.feed_content.image_list[0] && item.feed_content.image_list[0].url\"\n          :image-url-thumb=\"item.feed_content.image_list[0] && item.feed_content.image_list[0].url_thumbnail\"\n          :create-time=\"item.feed_time.txt\"\n          :like=\"item.feed_content.be_favorite ? 'liked' : 'unliked'\"\n          :first-two-comments=\"item.feed_content.comment_info.item_list\"\n          :comments-count=\"item.feed_content.count_summary.comment.count\"\n          :reply-to=\"item.feed_content.at_user\"\n          @reply=\"showReplyBox\"\n          @like=\"likeEvent\"\n          @operation=\"showMoreOperation\"\n          @avatar=\"handleAvatarClick\"\n          @view-all-replies=\"viewAllReplies\"\n        />\n      </template>\n    </vs-feed>\n    <vs-reply-bar @click=\"handleBarClick\" v-if=\"isShowBar\"/>\n    <vs-popup class=\"more-operation\" v-model=\"moreOperation\" position=\"bottom\" :overlay=\"true\" :showCancel=\"true\"\n              title=\"更多操作\">\n      <div class=\"pop-item\" @click=\"showComplain\">\n        举报该条评论\n      </div>\n    </vs-popup>\n    <vs-popup class=\"reasons\" v-model=\"showReasons\" position=\"bottom\" :overlay=\"true\" :showCancel=\"true\" title=\"显示举报原因\">\n      <div class=\"pop-item\" v-for=\"(item,index) in COMPLAIN_REASONS\" @click=\"complain(index)\">\n        {{ item }}\n      </div>\n    </vs-popup>\n  </div>\n</template>\n<script>\nimport {onBeforeUnmount, ref} from '@vue/composition-api'\nimport {feeds} from \"../../utils/mock\";\nimport {Feed, FeedCard, Popup, ReplyBar, ReplyBox, Toast} from '../../../lib'\n\nconst COMPLAIN_REASONS = ['反动、色情、政治敏感内容', '不友善、不文明语言', '广告、刷屏等垃圾信息', '与主题无关的恶意言论']\nexport default {\n  components: {\n    'vs-feed': Feed,\n    'vs-feed-card': FeedCard,\n    'vs-reply-bar': ReplyBar,\n    'vs-popup': Popup\n  },\n  setup(props, context) {\n    const isShowBar = ref(true)\n    const moreOperation = ref(false)\n    const showReasons = ref(false)\n    const operationId = ref('')\n    // 回复别人的回复框，不保留\n    const showReplyBox = ({message = '', nickname = ''}) => {\n      const r = ReplyBox({\n        title: nickname,\n        subtitle: message,\n        methods: {\n          onClose: function () {\n            isShowBar.value = true;\n            this.unmount();\n          },\n          onConfirm: function (data) {\n            console.log('confirm', data)\n            isShowBar.value = true;\n            this.unmount();\n          },\n        },\n      })\n      r.open();\n      isShowBar.value = false;\n    }\n    const handleBarClick = () => {\n      showReplyBox({message: '', nickname: ''})\n    }\n    onBeforeUnmount(() => {\n      /**卸载所有回复窗口**/\n      ReplyBox.unmountAll();\n    })\n    const likeEvent = (item) => {\n      console.log('like')\n    }\n    const showMoreOperation = (item) => {\n      moreOperation.value = true;\n      // operationId.value = item.data.id;\n    }\n    const complain = (index) => {\n      console.log(operationId, index)\n    }\n    const showComplain = () => {\n      moreOperation.value = false;\n      showReasons.value = true;\n    }\n    const handleTitleClick = () => {\n      Toast({message: '去热评区'})\n    }\n    const handleAvatarClick = (item) => {\n    }\n    const viewAllReplies = (item) => {\n      console.log(item)\n    }\n    return {\n      isShowBar,\n      feeds,\n      showReplyBox,\n      likeEvent,\n      showMoreOperation,\n      moreOperation,\n      showReasons,\n      complain,\n      COMPLAIN_REASONS,\n      showComplain,\n      handleBarClick,\n      handleTitleClick,\n      handleAvatarClick,\n      viewAllReplies\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.pop-item {\n  padding: 22px 0 21px;\n  border-bottom: solid 1px #eeeeee;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feed-dark-mode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feed-dark-mode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./feed-dark-mode.vue?vue&type=template&id=1e209400&scoped=true&\"\nimport script from \"./feed-dark-mode.vue?vue&type=script&lang=js&\"\nexport * from \"./feed-dark-mode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./feed-dark-mode.vue?vue&type=style&index=0&id=1e209400&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e209400\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feed-dark-mode.vue?vue&type=style&index=0&id=1e209400&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./feed-dark-mode.vue?vue&type=style&index=0&id=1e209400&lang=scss&scoped=true&\""],"sourceRoot":""}